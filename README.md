# 데이타몬드 백엔드 개발 과제

## 시작 방법
1. docker-compose --env-file='.env.dev' up -d
1. http://localhost:3000/api 확인

## 해결 과제

1. 위 요구사항에 대해, 어떤식으로 구성하면 좋을지 AWS 인프라 아키텍처를 그려주세요. (자유 형식)
   - survey-infra.png 확인
1. 위 요구사항에 맞는 테이블 ERD를 그려주세요.
   - survey-erd.png 확인
1. 설문 생성 API, 설문 참여 API, 설문 통계 조회 API를 만들어주세요.
   - mariadb 사용, 통계 조회 시 raw query 사용
   - 설문 create, read API, 설문 참여 API, 설문 통계 조회 API
1. 각 API에 대한 테스트 케이스가 추가되면 좋습니다.
   - 설문 READ 만 하였음, 자체 QA 는 진행하였음.
1. API 문서도 추가되면 좋습니다. ([참고](https://docs.nestjs.com/openapi/introduction))
   - http://localhost:3000/api 확인


## 요구사항

1. 설문 서비스를 개발합니다.
1. 하나의 설문에는 여러개의 질문이 포함되고, 하나의 질문에는 여러개의 답변이 포함됩니다. (주관식 답변은 없습니다.)
1. 설문은 회원만 참여할 수 있습니다.
1. 하나의 설문에는 한명만 참여할 수 있습니다.
1. 선착순 참여기능이 있습니다.
   - 예) 최대 100명 참여
1. 설문 생성시 로직을 추가할 수 있습니다.
   - 예) 1번에서 3번 질문을 선택하면 4번 질문으로 이동, 그외 답변을 선택하면 다음 질문으로 이동
1. 설문이 종료되고, 설문 결과를 조회할 수 있습니다.
   - 예) 각 질문의 답변에 대한 성별/나이대 비율 조회

## 과제

1. 위 요구사항에 대해, 어떤식으로 구성하면 좋을지 AWS 인프라 아키텍처를 그려주세요. (자유 형식)
1. 위 요구사항에 맞는 테이블 ERD를 그려주세요.
   - DB는 RDBMS 계열로 진행해주세요. (mysql, pg 등)
1. 설문 생성 API, 설문 참여 API, 설문 통계 조회 API를 만들어주세요.
   - 편하신 ORM을 사용해도 무방하지만, raw query를 사용하면 더 좋습니다.
1. 각 API에 대한 테스트 케이스가 추가되면 좋습니다.
1. API 문서도 추가되면 좋습니다. ([참고](https://docs.nestjs.com/openapi/introduction))

## 참고내용

1. 유저 테이블의 컬럼은 아래와 같습니다.
   - id: pk
   - name: varchar(50)
   - birth: varchar(10) // 2000-01-01
   - gender: enum(F, M) // F 여성, M 남성
1. 과제 후, 해당 레포지토리로 PR 주세요.
